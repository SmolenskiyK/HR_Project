<div class="grid-block">
   <div class="medium-2 grid-block">
      <div class="sidebar report-sidebar">
         <div class="card-divider">
            <div class="grid-block">
               <div class="medium-8 grid-block" ng-bind="::'REPORTS.REPORT_CONDITIONS' | translate"></div>
               <div class="medium-4 grid-block align-right">
                  <a ng-click="clear()" ng-bind="::'COMMON.CLEAR' | translate"></a>
               </div>
            </div>
         </div>
         <div class="card-section">
            <form>
               <label ng-bind="::'REPORTS.DATE_RANGE' | translate"></label>
               <div class="grid-block">
                  <div class="medium-6 grid-block">
                     <input type="text" placeholder="{{::'COMMON.FROM' | translate}}" ng-model="vacanciesReportParametrs.startDate" class="input-date" datetime-picker date-format="dd-MM-yyyy" close-on-select="true" date-only/> </div>
                  <div class="medium-6 grid-block">
                     <input type="text" placeholder="{{::'COMMON.TO' | translate}}" ng-model="vacanciesReportParametrs.endDate" class="input-date" datetime-picker date-format="dd-MM-yyyy" close-on-select="true" date-only/> </div>
               </div>
               <div class="grid-block">
                  <label ng-bind="::'THESAURUSES.LOCATIONS' | translate"></label>&nbsp;
                  <input ng-value="isActiveLocationField" type="checkbox" ng-model="isActiveLocationField" ng-change="useLocationField(isActiveLocationField)" ng-checked="isActiveLocationField"> </div>
               <div ng-if="isActiveLocationField" class="grid-block" ng-repeat="location in locations">
                  <div class="small-2 grid-block">
                     <input ng-value="location" ng-change="addLocationIdsToVacanciesReportParametrs(location)" ng-checked="location.selected" ng-model="location.selected" id="location" type="checkbox"> </div>
                  <div class="small-10 grid-block">
                     <label for="location" ng-bind="location.title"></label>
                  </div>
               </div>
               <div class="grid-block">
                  <label ng-bind="::'COMMON.USERS' | translate"></label>&nbsp;
                  <input ng-value="isActiveUsersField" type="checkbox" ng-model="isActiveUsersField" ng-checked="isActiveUsersField" ng-change="useUserField(isActiveUsersField)"> </div>
               <div ng-if="isActiveUsersField" class="grid-block" ng-repeat="user in users | filter: isEqualLocations">
                  <div class="small-2 grid-block">
                     <input ng-value="user" ng-change="addUserIdsToVacanciesReportParametrs(user)" ng-checked="user.selected" ng-model="user.selected" id="user" type="checkbox"> </div>
                  <div class="small-10 grid-block">
                     <label for="user" ng-bind="::(user.lastName+' '+user.firstName)"></label>
                  </div>
               </div>
               <a class="expand button" ng-click="formingVacanciesReport()" ng-bind="::'REPORTS.GENERATE' | translate"></a>
            </form>
         </div>
      </div>
   </div>
   <div class="vertical medium-10 grid-block">
      <div class="main-card">
         <div class="card-divider" ng-bind="::'REPORTS.VACANCY_REPORT_CHART' | translate"> </div>
         <div class="card-section"> </div>
      </div>
      <div class="main-card">
         <div class="card-divider" ng-bind="::'REPORTS.VACANCY_REPORT_DATA' | translate"> </div>
         <div class="card-section">
            <table class="report-data">
               <thead ng-if="!isSelectedUsersGroupedByLocationEmpty()">
                  <tr class="report-data-row">
                     <th ng-bind="::'COMMON.LOCATION' | translate" rowspan="2"></th>
                     <th ng-bind="::'COMMON.USERS' | translate" rowspan="2"></th>
                     <th ng-bind="::'REPORTS.ACTIVE_VACANCIES' | translate" colspan="3"></th>
                     <th ng-bind="::'REPORTS.DYNAMICS' | translate" colspan="10"></th>
                     <th ng-bind="::'REPORTS.ACTIVE_VACANCIES' | translate" colspan="6"></th>
                  </tr>
                  <tr class="report-data-row">
                     <td ng-bind="::'REPORTS.PENDING' | translate"></td>
                     <td ng-bind="::'REPORTS.OPEN' | translate"></td>
                     <td ng-bind="::'REPORTS.IN_PROGRESS' | translate"></td>
                     <td ng-bind="::'REPORTS.PENDING' | translate" colspan="2"></td>
                     <td ng-bind="::'REPORTS.OPEN' | translate" colspan="2"></td>
                     <td ng-bind="::'REPORTS.IN_PROGRESS' | translate" colspan="2"></td>
                     <td ng-bind="::'REPORTS.CLOSED' | translate" colspan="2"></td>
                     <td ng-bind="::'REPORTS.CANCELED' | translate" colspan="2"></td>
                     <td ng-bind="::'REPORTS.PENDING' | translate" colspan="2"></td>
                     <td ng-bind="::'REPORTS.OPEN' | translate" colspan="2"></td>
                     <td ng-bind="::'REPORTS.IN_PROGRESS' | translate" colspan="2"></td>
                  </tr>
               </thead>
               <tbody ng-if="(selectedLocations.includes(location) && !isSelectedUsersGroupedByLocationEmpty())" ng-repeat="location in locations">
                  <tr class="report-data-row">
                     <td>
                        <div ng-bind="location.title"></div>
                     </td>
                     <td>
                        <div ng-if="selectedUsersGroupedByLocation" ng-repeat="user in selectedUsersGroupedByLocation[location.id]" ng-bind="::(user.lastName+' '+user.firstName)"></div>
                     </td>
                     <td>
                        <table-cell type="locations-users" report="startDateReport"></table-cell>
                     </td>
                     <td>
                        <table-cell type="locations-users"></table-cell>
                     </td>
                     <td>
                        <table-cell type="locations-users"></table-cell>
                     </td>
                     <td>
                        <div ng-repeat="user in selectedUsersGroupedByLocation[location.id]">3</div>
                     </td>
                     <td>
                        <div>12</div>
                     </td>
                     <td>
                        <div ng-repeat="user in selectedUsersGroupedByLocation[location.id]">3</div>
                     </td>
                     <td>
                        <div>12</div>
                     </td>
                     <td>
                        <div ng-repeat="user in selectedUsersGroupedByLocation[location.id]">1</div>
                     </td>
                     <td>
                        <div>12</div>
                     </td>
                     <td>
                        <div ng-repeat="user in selectedUsersGroupedByLocation[location.id]">1</div>
                     </td>
                     <td>
                        <div>12</div>
                     </td>
                     <td>
                        <div ng-repeat="user in selectedUsersGroupedByLocation[location.id]">1</div>
                     </td>
                     <td>
                        <div>12</div>
                     </td>
                     <td>
                        <div ng-repeat="user in selectedUsersGroupedByLocation[location.id]">3</div>
                     </td>
                     <td>
                        <div>12</div>
                     </td>
                     <td>
                        <div ng-repeat="user in selectedUsersGroupedByLocation[location.id]">3</div>
                     </td>
                     <td>
                        <div>12</div>
                     </td>
                     <td>
                        <div ng-repeat="user in selectedUsersGroupedByLocation[location.id]">3</div>
                     </td>
                     <td>
                        <div>12</div>
                     </td>
                  </tr>
               </tbody>
               <thead ng-if="isSelectedUsersGroupedByLocationEmpty()">
                  <tr class="report-data-row">
                     <th ng-if="selectedLocations.length && !selectedUsers.length" ng-bind="::'COMMON.LOCATION' | translate" rowspan="2"></th>
                     <th ng-if="selectedUsers.length && !selectedLocations.length" ng-bind="::'COMMON.USERS' | translate" rowspan="2"></th>
                     <th ng-bind="::'REPORTS.ACTIVE_VACANCIES' | translate" colspan="3"></th>
                     <th ng-bind="::'REPORTS.DYNAMICS' | translate" colspan="5"></th>
                     <th ng-bind="::'REPORTS.ACTIVE_VACANCIES' | translate" colspan="3"></th>
                  </tr>
                  <tr class="report-data-row">
                     <td ng-bind="::'REPORTS.PENDING' | translate"></td>
                     <td ng-bind="::'REPORTS.OPEN' | translate"></td>
                     <td ng-bind="::'REPORTS.IN_PROGRESS' | translate"></td>
                     <td ng-bind="::'REPORTS.PENDING' | translate"></td>
                     <td ng-bind="::'REPORTS.OPEN' | translate"></td>
                     <td ng-bind="::'REPORTS.IN_PROGRESS' | translate"></td>
                     <td ng-bind="::'REPORTS.CLOSED' | translate"></td>
                     <td ng-bind="::'REPORTS.CANCELED' | translate"></td>
                     <td ng-bind="::'REPORTS.PENDING' | translate"></td>
                     <td ng-bind="::'REPORTS.OPEN' | translate"></td>
                     <td ng-bind="::'REPORTS.IN_PROGRESS' | translate"></td>
                  </tr>
               </thead>
               <tbody ng-if="isSelectedUsersGroupedByLocationEmpty()">
                  <tr ng-if="selectedUsers.length && !selectedLocations.length" ng-repeat="user in selectedUsers" class="report-data-row">
                     <td>
                        <div ng-bind="::(user.lastName+' '+user.firstName)"></div>
                     </td>
                     <td>
                        <table-cell type="only-users" report="startDateReport"></table-cell>
                     </td>
                     <td>
                        <table-cell type="only-users" report="startDateReport"></table-cell>
                     </td>
                     <td>
                        <table-cell type="only-users" report="startDateReport"></table-cell>
                     </td>
                     <td>
                        <div>3</div>
                     </td>
                     <td>
                        <div>3</div>
                     </td>
                     <td>
                        <div>3</div>
                     </td>
                     <td>
                        <div>3</div>
                     </td>
                     <td>
                        <div>3</div>
                     </td>
                     <td>
                        <div>3</div>
                     </td>
                     <td>
                        <div>3</div>
                     </td>
                     <td>
                        <div>3</div>
                     </td>
                  </tr>
                  <tr ng-if="selectedLocations.length && !selectedUsers.length" ng-repeat="location in selectedLocations" class="report-data-row">
                     <td>
                        <div ng-bind="::location.title"></div>
                     </td>
                     <td>
                        <table-cell type="only-locations" location-id="location.id" report="{startDateReport}"></table-cell>
                     </td>
                     <td>
                        <table-cell type="only-locations" location-id="location.id" report="{startDateReport}"></table-cell>
                     </td>
                     <td>
                        <table-cell type="only-locations" location-id="location.id" report="{startDateReport}"></table-cell>
                     </td>
                     <td>
                        <div>3</div>
                     </td>
                     <td>
                        <div>3</div>
                     </td>
                     <td>
                        <div>3</div>
                     </td>
                     <td>
                        <div>3</div>
                     </td>
                     <td>
                        <div>3</div>
                     </td>
                     <td>
                        <div>3</div>
                     </td>
                     <td>
                        <div>3</div>
                     </td>
                     <td>
                        <div>3</div>
                     </td>
                  </tr>
               </tbody>
            </table>
         </div>
      </div>
   </div>
</div>